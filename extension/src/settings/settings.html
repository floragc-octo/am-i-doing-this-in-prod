<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Environments settings</title>
    <link rel="stylesheet" type="text/css" href="./settings.css" media="all" />
</head>

<body>
    <div class="sidebar-container">
        <h1>Environments settings</h1>
        
        <!-- Tab Navigation -->
        <nav class="tabs">
            <button type="button" class="tab-button" data-tab="retrieve">Import</button>
            <button type="button" class="tab-button active" data-tab="change">Change Settings</button>
            <button type="button" class="tab-button" data-tab="export">Export</button>
        </nav>

        <!-- Tab Contents -->
        <main class="tab-content-container">
            <!-- Retrieve Settings Tab -->
            <div id="retrieve-tab" class="tab-content">
                <header>Import settings from file</header>
                <section>
                    <form id="config-retriever">
                        <input aria-label="configuration json file" id="cr-file" type="file" accept="application/JSON, .json" />
                        <button type="submit" id="cr-submit" class="secondary">Load and save</button>
                    </form>
                </section>
            </div>

            <!-- Change Settings Tab -->
            <div id="change-tab" class="tab-content active">
                <header>Manage environments <span class="tips">(don't forget to save)</span></header>
                <section>
                    <div class="button-group">
                        <button type="button" id="add-env" class="primary">Add current page</button>
                        <button type="button" id="add-default-env" class="secondary">Add page</button>
                    </div>
                    <span class="section-instruction">
                        <ul>
                            <li>Label size is 10 characters max.</li>
                            <li>Site URL is 50 characters max and can be a part of the URL.</li>
                        </ul>
                    </span>
                    <form id="config-setter">
                        <div id="cs-container"></div>
                        <button type="submit" id="cs-form" class="secondary">Save settings</button>
                    </form>
                </section>
            </div>

            <!-- Export Tab -->
            <div id="export-tab" class="tab-content">
                <header>Export settings to JSON file</header>
                <section>
                    <p class="export-description">Download your current settings as a JSON file that can be imported later.</p>
                    <a role="button" id="cs-export" href="" tabindex="0" class="secondary">Export to JSON</a>
                </section>
                
                <header>Export to your documentation</header>
                <section>
                    <p class="export-description">Generate HTML code to share your environment configuration with your team. Simply paste this code in your project's documentation.</p>
                    <button type="button" id="generate-doc-snippet" class="primary">Generate Documentation Snippet</button>
                    
                    <div id="doc-snippet-container" style="display: none;">
                        <p class="export-description"><strong>Copy and paste this code in your project's documentation:</strong></p>
                        <div class="code-block-container">
                            <pre id="doc-snippet-code" class="code-block"></pre>
                            <button type="button" id="copy-snippet" class="secondary">Copy to Clipboard</button>
                        </div>
                        <p class="export-description tips">Team members can click the "Import environnements" button in your documentation to automatically import the configuration.</p>
                    </div>
                </section>
            </div>
        </main>
    </div>
</body>
<script src="settings.js"></script>

</html>
